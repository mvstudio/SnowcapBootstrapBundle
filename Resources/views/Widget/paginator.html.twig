{% if paginator.pageCount > 1 %}
    {% set paginated_route = app.request.attributes.get('_route') %}
    {% set paginated_params = app.request.attributes.get('_route_params')|merge(app.request.query.all) %}
    <div class="pagination">
        <ul>
            <li{% if paginator.page == 1 %} class="disabled"{% endif %}>
                <a href="{{ path(paginated_route, paginated_params|merge({'page': 1})) }}">«</a>
            </li>
            {% for i in paginator.range %}
            <li{% if paginator.page == i %} class="active"{% endif %}>
                <a href="{{ path(paginated_route, paginated_params|merge({'page': i})) }}">
                    {{ i }}
                </a>
            </li>
            {% endfor %}
            <li{% if paginator.page == paginator.pageCount %} class="disabled"{% endif %}>
                <a href="{{ path(paginated_route, paginated_params|merge({'page': paginator.pageCount})) }}">»</a>
            </li>
      </ul>
    </div>
{% endif %}